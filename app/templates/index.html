<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}
<div class="bigwrapper" style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
	<div style="width: 100%; height: 75px;"></div>
	<div class="form2cont">
		<div>
			<!-- <center> -->

			<form action="/addvoter" id="textform" method="post" enctype="multipart/form-data"
				style="display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;">
				<input class="inp" type="text" name="csrf_token" value={{ csrf_token() }}
					style="font-size: 0.8rem; word-break: break-all;">
				<label style="width:50%;  margin: 20px 0px 10px;">Add/Update Voter ID</label>

				<table style="width:70%;">
					<tr>
						<td>
							<label>Enter Voter ID</label>
						</td>
						<td>
							<input class="inp" type="text" name="voter_id" placeholder="001" required>
						</td>
					</tr>
					<tr>
						<td>
							<label>Enter Password</label>
						</td>
						<td>
							<input class="inp" type="password" name="password" placeholder="pass" required>
						</td>
					</tr>
					<tr>
						<td>
							<label>Upload Face Image</label>
						</td>
						<td>
							<input type="file" name="face_image" accept="image/*" required>
						</td>
					</tr>
					<tr>
						<td>
							<label>Upload ID Document</label>
						</td>
						<td>
							<input type="file" name="document" accept="image/*" required>
						</td>
					</tr>
					<tr>
						<td></td>
						<td>
							<input class="button" type="submit" value="Add/Update ID">
						</td>
					</tr>
				</table>
			</form>
			<!-- </center> -->
		</div>
	</div>
	<div style="width: 100%; height: 75px;"></div>
	<hr>
	<div class='buttoncont' style="display: flex; flex-direction: row; justify-content: center; align-items: center;">
		<center>
			<a href="/admin"><button class="button">Resync</button></a>
			<a href="{{node_address}}/chain" target="_blank"><button class="button">View Chain</button></a>
			<a href="/declare"><button class="button">Declare Result</button></a>
		</center>
	</div>
	<hr>
	<div style="width: 100%; height: 75px;"></div>
	<div class="candcont">

		<div>
			<form action="/addcand" id="textform" method="post" enctype="multipart/form-data">
				<input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
				<label style="width:50%; float: right; margin-bottom: 10px;">Add Candidate</label>

				<table style="width:70%; float: right;">
					<tr>
						<td>
							<label>Enter Type of Candidate to be added</label>
						</td>
						<td>
							<input class="inp" type="text" name="candtype" placeholder="presidential" required>
						</td>

					</tr>
					<tr>
						<td>
							<label>Enter Name of Candidate to be added</label>
						</td>
						<td>
							<input class="inp" type="text" name="candname" placeholder="Candidate A" required>
						</td>
					</tr>
					<tr>
						<td>
							<label>Enter Party of Candidate to be added</label>
						</td>
						<td>
							<input class="inp" type="text" name="candparty" placeholder="Democratic Party" required>
						</td>
					</tr>
					<tr>
						<td>
							<label>Select Party Symbol (democraticparty_logo.jpg)</label>
						</td>
						<td>
							<input type="file" name="logo" required>
						</td>
					</tr>


					<tr>
						<td></td>
						<td>
							<input class="button" type="submit" value="Add">
						</td>
					</tr>
				</table>
			</form>
		</div>
		<div style="width: 5px; height: 200px; background-color: rgba(169, 184, 190, 0.377); border-radius: 2px;"></div>
		<div style="width: 70%;">
			<form action="/delcand" id="textform" method="post">
				<input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
				<label style="width:50%; float: right; margin-bottom: 10px;">Delete Candidate</label>

				<table style=" float: right;">

					<tr>
						<td>
							<label>Enter Type<br>of Candidate<br>to be deleted</label>
						</td>
						<td>
							<input class="inp" type="text" name="candtype" placeholder="presdential" required>
						</td>
					</tr>

					<tr>
						<td>
							<label>Enter Name<br>of Candidate<br>to be deleted</label>
						</td>
						<td>
							<input class="inp" type="text" name="candname" placeholder="Candidate A" required>
						</td>
					</tr>

					<tr>
						<td></td>
						<td>
							<input class="button" type="submit" value="Delete">
						</td>
					</tr>
				</table>
			</form>
		</div>
	</div>
	<div style="width: 100%; height: 80px;"></div>

	<div class="resultcont">
		<div style="margin: 20px; display: flex; flex-direction: row; justify-content: space-around;">

			<div>
				<h2>Result Detail</h2>

				<table>
					<tr>
						<th>Presidental Candidate</th>
						<th>Head Candidate</th>
						<th>Voted Time</th>
					</tr>
					{% for post in posts %}
					<tr>
						<td>{{post.president}}</td>
						<td>{{post.head}}</td>
						<td>{{readable_time(post.timestamp)}}</td>
					</tr>
					{% endfor %}
				</table>
			</div>
			<div style="width: 5px; height: 100%px; background-color: rgba(169, 184, 190, 0.377); border-radius: 2px;">
			</div>
			<div style="margin-left: 0px;">
				<h2>Result Summary</h2>

				<table>
					<tr>
						<th width="25%">President Candidate Name</th>
						<th width="25%">Total vote gain</th>
					</tr>
					{% for candidate in Candidatespresident %}
					<tr>
						<td>{{candidate.name}}</td>
						<td>{{vote_gain_president.count(candidate.name)}}</td>
					</tr>
					{% endfor %}
				</table>
				<table>
					<tr>
						<th width="25%">Head Candidate Name</th>
						<th width="25%">Total vote gain</th>
					</tr>
					{% for candidate in Candidateshead %}
					<tr>
						<td>{{candidate.name}}</td>
						<td>{{vote_gain_head.count(candidate.name)}}</td>
					</tr>
					{% endfor %}
				</table>

			</div>

		</div>

	</div>
</div>
<style>
	label {
		color: rgb(30, 44, 104);
		font-family: Parkinsans;
	}

	h2 {
		color: rgb(30, 44, 104);
		font-family: Parkinsans;
	}

	th {
		color: rgb(30, 44, 104);
		font-family: Parkinsans;
	}

	td {
		color: rgb(30, 44, 104);
		font-family: Parkinsans;
	}



	.candcont {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
		align-items: center;
		background: rgba(255, 255, 255, 0.422);
		border-radius: 16px;
		box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
		backdrop-filter: blur(8.6px);
		-webkit-backdrop-filter: blur(8.6px);
		border: 1px solid rgb(255, 255, 255);
		width: 80%;
		padding: 1% 2%;
	}

	.form2cont {
		background: rgba(255, 255, 255, 0.422);
		border-radius: 16px;
		box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
		backdrop-filter: blur(8.6px);
		-webkit-backdrop-filter: blur(8.6px);
		border: 1px solid rgb(255, 255, 255);
		width: 40%;
		padding: 1% 2%;
	}

	.resultcont {
		background: rgba(255, 255, 255, 0.422);
		border-radius: 16px;
		box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
		backdrop-filter: blur(8.6px);
		-webkit-backdrop-filter: blur(8.6px);
		border: 1px solid rgb(255, 255, 255);
		width: 95%;
		padding: 1% 2%;
		margin-bottom: 5%;
		text-align: center;
	}

	.buttoncont {
		background: rgba(255, 255, 255, 0.422);
		border-radius: 16px;
		box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
		backdrop-filter: blur(8.6px);
		-webkit-backdrop-filter: blur(8.6px);
		border: 1px solid rgb(255, 255, 255);
		padding: 30px;
	}

	.button {
		background-color: rgba(234, 239, 242, 0.674);
		box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
		backdrop-filter: blur(8.6px);
		-webkit-backdrop-filter: blur(8.6px);
		border: 2px solid rgb(104, 174, 185);
		border-radius: 20px;
		color: rgb(30, 44, 104);
		font-family: Parkinsans;
	}


	.container {
		display: flex;
		flex-direction: column;
		justify-content: space-around;
		align-items: center;
	}

	table {
		font-family: arial, sans-serif;
		border-collapse: collapse;
		width: 100%;
	}

	td,
	th {
		text-align: center;
		padding: 8px;
	}

	img {
		width: 5vw;
		height: 10vh;
	}


	.inp {
		width: 80%;
		background-color: rgba(255, 255, 255, 0.402);
		border: 1px solid white;
		padding: 0% 5%;
	}

	::-webkit-file-upload-button {
		background: rgba(234, 239, 242, 1);
		border: 2px solid rgb(104, 174, 185);
		border-radius: 20px;
		padding: 0% 5%;
		height: 40px;
	}
</style>
{% endblock %}